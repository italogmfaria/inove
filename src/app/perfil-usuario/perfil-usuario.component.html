<div class="perfil-container">
  <header class="header">
    <img src="assets/logowhite.png" alt="Logotipo INOVE" class="logo">
    <button class="back-btn" onclick="window.history.back();">Voltar</button>
  </header>

  <div class="content">
    <aside class="side-panel">
      <h2>Painel do Usuário</h2>
      <ul>
        <li (click)="switchPanel('cursos')" [class.active]="activePanel === 'cursos'">Meus Cursos</li>
        <li (click)="switchPanel('dados')" [class.active]="activePanel === 'dados'">Meus Dados</li>
      </ul>
      <button class="btn-logout" (click)="logout()">Sair</button>
    </aside>

    <main class="main-panel">
      <div *ngIf="activePanel === 'cursos'">
        <h1>Meus Cursos</h1>
        <div class="course-cards-container">
          <div *ngFor="let course of userCourses" class="course-card" (click)="navigateToCourse(course.id)">
            <img src="assets/placeholder.png" alt="{{ course.name }}">
            <h3>{{ course.name }}</h3>
            <p>{{ course.description }}</p>
            <button class="btn-remover" (click)="removeCourse(course.id); $event.stopPropagation();">Remover</button>
          </div>
        </div>
      </div>

      <div *ngIf="activePanel === 'dados'">
        <h1>Meus Dados</h1>
        <p><strong>Nome:</strong> {{ user.name }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>CPF:</strong> {{ user.cpf }}</p>
        <button class="btn-orange" (click)="toggleEdit()">Editar dados</button>
      </div>
    </main>
  </div>

  <div class="modal-overlay" *ngIf="isEditing">
    <div class="modal">
      <button class="close-btn" (click)="toggleEdit()">×</button>
      <h2>Editar Dados</h2>
      <form>
        <div class="form-group">
          <label for="edit-nome">Nome:</label>
          <input id="edit-nome" type="text" name="name" [(ngModel)]="user.name" />
        </div>
        <div class="form-group">
          <label for="edit-email">Email:</label>
          <input id="edit-email" type="email" name="email" [(ngModel)]="user.email" />
        </div>
        <div class="form-group">
          <label for="edit-cpf">CPF:</label>
          <input id="edit-cpf" type="text" name="cpf" [(ngModel)]="user.cpf" />
        </div>
        <button type="button" class="btn-orange" (click)="saveUserData()">Salvar</button>
      </form>      
    </div>
  </div>
</div>
